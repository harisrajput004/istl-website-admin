<div class="my-[30px] flex flex-col gap-[24px] overflow-x-auto w-full">
    <div class="flex justify-between w-full">
        <h3>Contact Request</h3>
    </div>
    
    <!-- Loading State -->
    <div *ngIf="isLoading" class="flex justify-center items-center h-64">
        <div class="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#51131F]"></div>
    </div>
    
    <!-- Error State -->
    <!-- <div *ngIf="errorMessage" class="p-4 bg-red-100 text-red-700 rounded">
        {{ errorMessage }}
    </div> -->
    
    <div *ngIf="!isLoading && contactRequests.length === 0" 
         class="flex flex-col items-center justify-center p-8 bg-gray-50 rounded-lg text-center">
        <div class="w-20 h-20 mb-4 text-gray-400">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
        </div>
        <h4 class="text-lg font-medium text-gray-700 mb-2">No applicants found for this job</h4>
        <p class="text-gray-500">There are currently no applicants for this job position.</p>

        <div class="mt-[30px]">
            <a *ngIf="contactId" routerLink="/contact-request" class="primary_button">
                View All Requests
            </a>
        </div>
    </div>
    
    <div *ngIf="!isLoading" class="overflow-y-auto max-h-[570px]">
        <table class="min-w-full rounded-[10px] border-separate border-spacing-y-[10px]">
            <thead class="bg-[#51131F]">
                <tr class="text-[#F2F2F2]">
                    <th class="py-3 px-6 text-left text-sm font-normal rounded-l-[5px]">S. No</th>
                    <th class="py-3 px-6 text-left text-sm font-normal">Name</th>
                    <th class="py-3 px-6 text-left text-sm font-normal">Email</th>
                    <th class="py-3 px-6 text-left text-sm font-normal">Phone Number</th>
                    <th class="py-3 px-6 text-left text-sm font-normal"></th>
                </tr>
            </thead>
            <tbody>
                <!-- Loading State (inside tbody) -->
                <tr *ngIf="isLoading">
                    <td colspan="5" class="py-4">
                        <div class="flex justify-center items-center h-64 w-full">
                            <div class="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#51131F]"></div>
                        </div>
                    </td>
                </tr>
                
                <!-- Applicants Data -->
                <tr *ngFor="let contact of contactRequests; let i = index" class="bg-[#F2F2F2] rounded-[5px] p-[15px]">
                    <td class="py-3 px-6"> 
                        <p class="text-[#1D1D1D] font-normal">{{ i + 1 }}</p>
                    </td>
                    <td class="py-3 px-6 text-sm text-gray-700">
                        <p class="text-[#1D1D1D] font-normal">
                            {{ contact.fullName }}
                        </p>
                    </td>
                    <td class="py-3 px-6">
                        <p class="text-[#1D1D1D] font-normal">
                            {{ contact.email }}
                        </p>
                    </td>
                    <td class="py-3 px-6">
                        <p class="text-[#1D1D1D] font-normal">
                            {{ contact.phoneNo }}
                        </p>
                    </td>
                    <td class="py-3 px-6">
                        <div class="flex gap-[10px] justify-center">
                            <a [routerLink]="'/contact-request/details/' + contact.id" class="action-link py-[5px] px-[8px]">
                                <fa-icon [icon]="faEye" class="text-[#951C33]"></fa-icon>
                            </a>
                        </div>
                    </td>
                </tr>
                
                <!-- Empty State (inside tbody) -->
                <tr *ngIf="!isLoading && !errorMessage && contactRequests.length === 0">
                    <td colspan="5" class="py-4">
                        <div class="flex flex-col items-center justify-center p-8 bg-gray-50 rounded-lg text-center">
                            <div class="w-20 h-20 mb-4 text-gray-400">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                </svg>
                            </div>
                            <h4 class="text-lg font-medium text-gray-700 mb-2">No Contact Requests found</h4>
                            <p class="text-gray-500">There are currently no contact requests/p>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
    
    
</div>